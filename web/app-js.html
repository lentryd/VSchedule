<script>
  (function (e) { function t(t) { for (var o, s, a = t[0], c = t[1], d = t[2], r = 0, b = []; r < a.length; r++)s = a[r], Object.prototype.hasOwnProperty.call(l, s) && l[s] && b.push(l[s][0]), l[s] = 0; for (o in c) Object.prototype.hasOwnProperty.call(c, o) && (e[o] = c[o]); u && u(t); while (b.length) b.shift()(); return i.push.apply(i, d || []), n() } function n() { for (var e, t = 0; t < i.length; t++) { for (var n = i[t], o = !0, a = 1; a < n.length; a++) { var c = n[a]; 0 !== l[c] && (o = !1) } o && (i.splice(t--, 1), e = s(s.s = n[0])) } return e } var o = {}, l = { app: 0 }, i = []; function s(t) { if (o[t]) return o[t].exports; var n = o[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, s), n.l = !0, n.exports } s.m = e, s.c = o, s.d = function (e, t, n) { s.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, s.r = function (e) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, s.t = function (e, t) { if (1 & t && (e = s(e)), 8 & t) return e; if (4 & t && "object" === typeof e && e && e.__esModule) return e; var n = Object.create(null); if (s.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var o in e) s.d(n, o, function (t) { return e[t] }.bind(null, o)); return n }, s.n = function (e) { var t = e && e.__esModule ? function () { return e["default"] } : function () { return e }; return s.d(t, "a", t), t }, s.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, s.p = "/"; var a = window["webpackJsonp"] = window["webpackJsonp"] || [], c = a.push.bind(a); a.push = t, a = a.slice(); for (var d = 0; d < a.length; d++)t(a[d]); var u = c; i.push([0, "chunk-vendors"]), n() })({ 0: function (e, t, n) { e.exports = n("cd49") }, "3aaa": function (e, t, n) { "use strict"; n("7f5f") }, 7049: function (e, t, n) { }, 7858: function (e, t, n) { }, "7f5f": function (e, t, n) { }, 9452: function (e, t, n) { "use strict"; n("f1e2") }, "9d48": function (e, t, n) { "use strict"; n("c8bd") }, b078: function (e, t, n) { "use strict"; n("d16a") }, b51b: function (e, t, n) { "use strict"; n("7858") }, c8bd: function (e, t, n) { }, cd49: function (e, t, n) { "use strict"; n.r(t); var o = n("7a23"); const l = { class: "banner" }, i = ["textContent"], s = ["textContent"], a = { class: "btn-group" }; function c(e, t, n, c, d, u) { const r = Object(o["r"])("Btn"), b = Object(o["r"])("Field"), h = Object(o["r"])("Select"), p = Object(o["r"])("Dialog"); return Object(o["m"])(), Object(o["g"])(o["a"], null, [Object(o["h"])("div", l, [Object(o["h"])("span", { class: Object(o["k"])(["icon material-icons-round", { bad: e.needAuth }]), textContent: Object(o["s"])(e.needAuth ? "" : "") }, null, 10, i), Object(o["h"])("span", { class: "message", textContent: Object(o["s"])(e.message) }, null, 8, s)]), Object(o["h"])("div", a, [Object(o["i"])(r, { filled: e.needAuth, onClick: t[0] || (t[0] = t => e.showDialog = !0), label: e.needAuth ? "Авторизоваться" : "Обновить данные" }, null, 8, ["filled", "label"]), e.needAuth ? Object(o["f"])("", !0) : (Object(o["m"])(), Object(o["e"])(r, { key: 0, filled: "", onClick: e.updateTrigger, label: "Обновить скрипт", loading: e.loadingUpdate }, null, 8, ["onClick", "loading"]))]), Object(o["i"])(p, { title: e.needAuth ? "Авторизоваться" : "Обновить данные", modelValue: e.showDialog, "onUpdate:modelValue": t[5] || (t[5] = t => e.showDialog = t), permanent: "", description: "Введенные вами данные будут сохранены в вашем аккаунте Google. Только у вас есть к ним доступ." }, { body: Object(o["u"])(() => [Object(o["i"])(b, { label: "Логин", modelValue: e.login, "onUpdate:modelValue": t[1] || (t[1] = t => e.login = t) }, null, 8, ["modelValue"]), Object(o["i"])(b, { type: "password", label: "Пароль", modelValue: e.password, "onUpdate:modelValue": t[2] || (t[2] = t => e.password = t) }, null, 8, ["modelValue"]), Object(o["i"])(h, { label: "Траектория обучения", items: e.educationSpaces, modelValue: e.educationSpace, "onUpdate:modelValue": t[3] || (t[3] = t => e.educationSpace = t) }, null, 8, ["items", "modelValue"])]), actions: Object(o["u"])(() => [Object(o["i"])(r, { label: "Отмена", onClick: t[4] || (t[4] = t => e.showDialog = !1), disabled: e.loadingDialog }, null, 8, ["disabled"]), Object(o["i"])(r, { filled: "", onClick: e.sendData, label: e.needAuth ? "Авторизоваться" : "Обновить данные", loading: e.loadingDialog }, null, 8, ["onClick", "label", "loading"])]), _: 1 }, 8, ["title", "modelValue"])], 64) } const d = ["textContent"], u = { class: "state-layer" }, r = { class: "loader" }; function b(e, t, n, l, i, s) { return Object(o["m"])(), Object(o["g"])("div", { onClick: t[0] || (t[0] = (...t) => e.onclick && e.onclick(...t)), onKeypress: t[1] || (t[1] = Object(o["w"])((...t) => e.onclick && e.onclick(...t), ["enter"])), class: Object(o["k"])(["btn", e.classes]), tabindex: "0" }, [Object(o["q"])(e.$slots, "default"), Object(o["h"])("span", { class: "label-large", textContent: Object(o["s"])(e.label) }, null, 8, d), Object(o["h"])("div", u, [Object(o["v"])(Object(o["h"])("div", r, null, 512), [[o["t"], e.loading]])])], 34) } var h = Object(o["j"])({ name: "Button", props: { replace: { type: Boolean, default: !1 }, label: { type: String, required: !0 }, loading: { type: Boolean, default: !1 }, disabled: { type: Boolean, default: !1 }, text: { type: Boolean, default: !0 }, filled: { type: Boolean, default: !1 }, outlined: { type: Boolean, default: !1 } }, emits: ["click"], computed: { classes() { return { icon: !!this.$slots.default, loading: this.loading, disabled: this.disabled, text: this.isText, filled: this.isFilled, outlined: this.isOutlined } }, isText() { return !this.isFilled && !this.isOutlined && this.text }, isFilled() { return !this.isOutlined && this.filled }, isOutlined() { return this.outlined } }, methods: { onclick(e) { this.disabled || this.loading || this.$emit("click", e) } } }), p = (n("9452"), n("6b0d")), m = n.n(p); const f = m()(h, [["render", b]]); var g = f; const O = ["textContent"], j = ["type", "name", "value", "autocomplete"], v = ["textContent"]; function y(e, t, n, l, i, s) { return Object(o["m"])(), Object(o["g"])("label", { class: Object(o["k"])(["field", { empty: !e.modelValue, error: e.error, focussed: e.focussed }]) }, [e.label ? (Object(o["m"])(), Object(o["g"])("span", { key: 0, class: "label", textContent: Object(o["s"])(e.label) }, null, 8, O)) : Object(o["f"])("", !0), Object(o["h"])("input", { type: e.type, name: e.name, value: e.modelValue, onInput: t[0] || (t[0] = (...t) => e.inputText && e.inputText(...t)), autocomplete: e.autocomplete, onFocus: t[1] || (t[1] = t => e.focussed = !0), onBlur: t[2] || (t[2] = t => e.focussed = !1) }, null, 40, j), Object(o["h"])("span", { class: "icon material-icons-round", onClick: t[3] || (t[3] = t => e.$emit("update:modelValue", "")), textContent: Object(o["s"])(e.error ? "" : "") }, null, 8, v)], 2) } var x = Object(o["j"])({ name: "Text Field", props: { type: { type: String, default: "text" }, name: { type: String, default: "" }, label: { type: String, default: "" }, error: { type: Boolean, default: !1 }, modelValue: { type: String, default: "" }, autocomplete: { type: String, default: "off" } }, emits: ["update:modelValue"], data: () => ({ focussed: !1 }), methods: { inputText(e) { const t = e.target; t && this.$emit("update:modelValue", t.value) } } }); n("3aaa"); const k = m()(x, [["render", y], ["__scopeId", "data-v-2bbb4e88"]]); var w = k; const C = e => (Object(o["o"])("data-v-f41d85cc"), e = e(), Object(o["n"])(), e), S = ["textContent"], V = ["textContent"], A = C(() => Object(o["h"])("span", { class: "material-icons-round", textContent: "" }, null, -1)), D = ["textContent", "onClick"]; function B(e, t, n, l, i, s) { return Object(o["m"])(), Object(o["g"])(o["a"], null, [Object(o["h"])("div", { class: Object(o["k"])(["select", { focussed: e.focussed }]), tabindex: "0", onBlur: t[0] || (t[0] = t => e.focussed = !1), onFocus: t[1] || (t[1] = (...t) => e.focus && e.focus(...t)), onKeydown: t[2] || (t[2] = Object(o["x"])((...t) => e.keyListener && e.keyListener(...t), ["stop"])) }, [Object(o["h"])("span", { class: "label", textContent: Object(o["s"])(e.label) }, null, 8, S), Object(o["h"])("div", { class: "value", textContent: Object(o["s"])(e.items[e.index].name) }, null, 8, V), A], 34), Object(o["i"])(o["c"], { name: "selector-items" }, { default: Object(o["u"])(() => [e.focussed ? (Object(o["m"])(), Object(o["g"])("div", { key: 0, class: "selector-items", style: Object(o["l"])({ top: e.position }) }, [(Object(o["m"])(!0), Object(o["g"])(o["a"], null, Object(o["p"])(e.items, (t, n) => (Object(o["m"])(), Object(o["g"])("div", { class: Object(o["k"])(["item", { hover: n == e.hoverIndex, selected: n == e.index }]), textContent: Object(o["s"])(t.name), onClick: t => e.index = n }, null, 10, D))), 256))], 4)) : Object(o["f"])("", !0)]), _: 1 })], 64) } var I = Object(o["j"])({ name: "Select", props: { label: { type: String, required: !0 }, items: { type: Array, required: !0 }, modelValue: { type: String, default: "" } }, emits: ["update:modelValue"], data: () => ({ position: "0", focussed: !1, hoverIndex: -1 }), computed: { index: { get() { const e = this.items.findIndex(e => e.value == this.modelValue); return -1 == e && this.$emit("update:modelValue", this.items[0].value), e }, set(e) { this.$emit("update:modelValue", this.items[e].value) } } }, methods: { focus(e) { const t = e.target, { bottom: n } = t.getBoundingClientRect(); this.focussed = !0, this.position = n - 1 + "px" }, keyListener(e) { "ArrowUp" == e.key ? this.hoverIndex <= 0 ? this.hoverIndex = this.items.length - 1 : this.hoverIndex-- : "ArrowDown" == e.key ? this.hoverIndex == this.items.length - 1 ? this.hoverIndex = 0 : this.hoverIndex++ : "Enter" == e.key ? (this.index = this.hoverIndex, this.focussed = !1, e.target.blur()) : "Escape" == e.key && (this.focussed = !1, e.target.blur()) } } }); n("9d48"); const M = m()(I, [["render", B], ["__scopeId", "data-v-f41d85cc"]]); var _ = M; const T = ["textContent"], $ = { class: "body" }, U = ["textContent"], F = { class: "actions" }; function q(e, t, n, l, i, s) { return Object(o["m"])(), Object(o["e"])(o["b"], { to: "body" }, [Object(o["i"])(o["c"], { name: "dialog-transition" }, { default: Object(o["u"])(() => [e.show ? (Object(o["m"])(), Object(o["g"])("div", { key: 0, class: "dialog", onClick: t[0] || (t[0] = Object(o["x"])((...t) => e.onMask && e.onMask(...t), ["self"])) }, [Object(o["h"])("div", { class: Object(o["k"])(["dialog-content", { maskClick: e.clicked }]) }, [Object(o["q"])(e.$slots, "icon"), Object(o["v"])(Object(o["h"])("span", { class: "headline-small", textContent: Object(o["s"])(e.title) }, null, 8, T), [[o["t"], e.title]]), Object(o["h"])("div", $, [Object(o["v"])(Object(o["h"])("span", { class: "body-medium", textContent: Object(o["s"])(e.description) }, null, 8, U), [[o["t"], e.description]]), Object(o["q"])(e.$slots, "body")]), Object(o["h"])("div", F, [Object(o["q"])(e.$slots, "actions")])], 2)])) : Object(o["f"])("", !0)]), _: 3 })]) } var P = Object(o["j"])({ name: "Dialog", props: { title: { type: String }, description: { type: String }, permanent: { type: Boolean, default: !1 }, modelValue: { type: Boolean, default: !1 } }, emits: ["update:modelValue"], data: () => ({ clicked: !1 }), computed: { show: { get() { return this.modelValue }, set(e) { this.$emit("update:modelValue", e) } } }, methods: { onMask() { this.permanent ? (this.clicked = !0, setTimeout(() => this.clicked = !1, 300)) : this.show = !1 }, listener(e) { this.show && "Escape" === e.code && (e.preventDefault(), this.show = !1) } }, beforeMount() { document.addEventListener("keydown", this.listener) }, beforeUnmount() { document.removeEventListener("keydown", this.listener) } }); n("b078"); const E = m()(P, [["render", q]]); var L = E, H = Object(o["j"])({ name: "App", components: { Btn: g, Field: w, Select: _, Dialog: L }, data: () => ({ login: "", password: "", educationSpace: "4", educationSpaces: [{ name: "Школа Икс", value: "1" }, { name: "Т-университет", value: "4" }], needAuth: !0, showDialog: !1, badMessage: "Для инициализации приложения необходимо авторизоваться.", goodMessage: "Вы успешно авторизовались, скрипт работает!", loading: !1, loadingUpdate: !1, loadingDialog: !1 }), computed: { message() { return this.needAuth ? this.badMessage : this.goodMessage } }, watch: { loading(e) { const t = document.getElementById("loading-page"); t && (t.dataset.hide = (!e).toString()) } }, methods: { checkAuth() { this.loading = !0, google.script.run.withSuccessHandler(e => { this.loading = !1, this.needAuth = e }).withFailureHandler(e => { console.error(e), this.loading = !1, this.checkAuth() }).needAuth() }, sendData() { this.login = this.login.trim(), this.password = this.password.trim(), this.login && this.password && (this.loadingDialog = !0, google.script.run.withSuccessHandler(() => { this.checkAuth(), this.login = "", this.password = "", this.showDialog = !1, this.loadingDialog = !1 }).init(this.login, this.password, this.educationSpace)) }, updateTrigger() { this.loadingUpdate = !0, google.script.run.withSuccessHandler(() => { this.loadingUpdate = !1 }).init() } }, beforeMount() { this.checkAuth() } }); n("b51b"); const J = m()(H, [["render", c]]); var K = J; n("cf56"), n("7049"); Object(o["d"])(K).mount("#app") }, cf56: function (e, t, n) { }, d16a: function (e, t, n) { }, f1e2: function (e, t, n) { } });
</script>