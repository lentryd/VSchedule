<script>
  (function (e) { function t(t) { for (var l, a, s = t[0], c = t[1], d = t[2], u = 0, p = []; u < s.length; u++)a = s[u], Object.prototype.hasOwnProperty.call(o, a) && o[a] && p.push(o[a][0]), o[a] = 0; for (l in c) Object.prototype.hasOwnProperty.call(c, l) && (e[l] = c[l]); r && r(t); while (p.length) p.shift()(); return i.push.apply(i, d || []), n() } function n() { for (var e, t = 0; t < i.length; t++) { for (var n = i[t], l = !0, s = 1; s < n.length; s++) { var c = n[s]; 0 !== o[c] && (l = !1) } l && (i.splice(t--, 1), e = a(a.s = n[0])) } return e } var l = {}, o = { app: 0 }, i = []; function a(t) { if (l[t]) return l[t].exports; var n = l[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, a), n.l = !0, n.exports } a.m = e, a.c = l, a.d = function (e, t, n) { a.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, a.r = function (e) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, a.t = function (e, t) { if (1 & t && (e = a(e)), 8 & t) return e; if (4 & t && "object" === typeof e && e && e.__esModule) return e; var n = Object.create(null); if (a.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var l in e) a.d(n, l, function (t) { return e[t] }.bind(null, l)); return n }, a.n = function (e) { var t = e && e.__esModule ? function () { return e["default"] } : function () { return e }; return a.d(t, "a", t), t }, a.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, a.p = "/"; var s = window["webpackJsonp"] = window["webpackJsonp"] || [], c = s.push.bind(s); s.push = t, s = s.slice(); for (var d = 0; d < s.length; d++)t(s[d]); var r = c; i.push([0, "chunk-vendors"]), n() })({ 0: function (e, t, n) { e.exports = n("cd49") }, "028e": function (e, t, n) { "use strict"; n("a918") }, "3aaa": function (e, t, n) { "use strict"; n("7f5f") }, 7049: function (e, t, n) { }, "7f5f": function (e, t, n) { }, "8bc2": function (e, t, n) { "use strict"; n("ce34") }, 9452: function (e, t, n) { "use strict"; n("f1e2") }, a918: function (e, t, n) { }, cd49: function (e, t, n) { "use strict"; n.r(t); var l = n("7a23"); const o = { class: "banner" }, i = ["textContent"], a = ["textContent"], s = { class: "btn-group" }; function c(e, t, n, c, d, r) { const u = Object(l["p"])("Btn"), p = Object(l["p"])("Field"), b = Object(l["p"])("Dialog"); return Object(l["l"])(), Object(l["g"])(l["a"], null, [Object(l["h"])("div", o, [Object(l["h"])("span", { class: Object(l["k"])(["icon material-icons-round", { bad: e.needAuth }]), textContent: Object(l["q"])(e.needAuth ? "" : "") }, null, 10, i), Object(l["h"])("span", { class: "message", textContent: Object(l["q"])(e.message) }, null, 8, a)]), Object(l["h"])("div", s, [Object(l["i"])(u, { filled: e.needAuth, onClick: t[0] || (t[0] = t => e.showDialog = !0), label: e.needAuth ? "Авторизоваться" : "Обновить данные" }, null, 8, ["filled", "label"]), e.needAuth ? Object(l["f"])("", !0) : (Object(l["l"])(), Object(l["e"])(u, { key: 0, filled: "", onClick: e.updateTrigger, label: "Обновить скрипт", loading: e.loadingUpdate }, null, 8, ["onClick", "loading"]))]), Object(l["i"])(b, { title: e.needAuth ? "Авторизоваться" : "Обновить данные", modelValue: e.showDialog, "onUpdate:modelValue": t[4] || (t[4] = t => e.showDialog = t), permanent: "", description: "Введенные вами данные будут сохранены в вашем аккаунте Google. Только у вас есть к ним доступ." }, { body: Object(l["s"])(() => [Object(l["i"])(p, { label: "Логин", modelValue: e.login, "onUpdate:modelValue": t[1] || (t[1] = t => e.login = t) }, null, 8, ["modelValue"]), Object(l["i"])(p, { type: "password", label: "Пароль", modelValue: e.password, "onUpdate:modelValue": t[2] || (t[2] = t => e.password = t) }, null, 8, ["modelValue"])]), actions: Object(l["s"])(() => [Object(l["i"])(u, { label: "Отмена", onClick: t[3] || (t[3] = t => e.showDialog = !1), disabled: e.loadingDialog }, null, 8, ["disabled"]), Object(l["i"])(u, { filled: "", onClick: e.sendData, label: e.needAuth ? "Авторизоваться" : "Обновить данные", loading: e.loadingDialog }, null, 8, ["onClick", "label", "loading"])]), _: 1 }, 8, ["title", "modelValue"])], 64) } const d = ["textContent"], r = { class: "state-layer" }, u = { class: "loader" }; function p(e, t, n, o, i, a) { return Object(l["l"])(), Object(l["g"])("div", { onClick: t[0] || (t[0] = (...t) => e.onclick && e.onclick(...t)), onKeypress: t[1] || (t[1] = Object(l["u"])((...t) => e.onclick && e.onclick(...t), ["enter"])), class: Object(l["k"])(["btn", e.classes]), tabindex: "0" }, [Object(l["o"])(e.$slots, "default"), Object(l["h"])("span", { class: "label-large", textContent: Object(l["q"])(e.label) }, null, 8, d), Object(l["h"])("div", r, [Object(l["t"])(Object(l["h"])("div", u, null, 512), [[l["r"], e.loading]])])], 34) } var b = Object(l["j"])({ name: "Button", props: { replace: { type: Boolean, default: !1 }, label: { type: String, required: !0 }, loading: { type: Boolean, default: !1 }, disabled: { type: Boolean, default: !1 }, text: { type: Boolean, default: !0 }, filled: { type: Boolean, default: !1 }, outlined: { type: Boolean, default: !1 } }, emits: ["click"], computed: { classes() { return { icon: !!this.$slots.default, loading: this.loading, disabled: this.disabled, text: this.isText, filled: this.isFilled, outlined: this.isOutlined } }, isText() { return !this.isFilled && !this.isOutlined && this.text }, isFilled() { return !this.isOutlined && this.filled }, isOutlined() { return this.outlined } }, methods: { onclick(e) { this.disabled || this.loading || this.$emit("click", e) } } }), h = (n("9452"), n("6b0d")), g = n.n(h); const f = g()(b, [["render", p]]); var O = f; const j = ["textContent"], m = ["type", "name", "value", "autocomplete"], y = ["textContent"]; function v(e, t, n, o, i, a) { return Object(l["l"])(), Object(l["g"])("label", { class: Object(l["k"])(["field", { empty: !e.modelValue, error: e.error, focussed: e.focussed }]) }, [e.label ? (Object(l["l"])(), Object(l["g"])("span", { key: 0, class: "label", textContent: Object(l["q"])(e.label) }, null, 8, j)) : Object(l["f"])("", !0), Object(l["h"])("input", { type: e.type, name: e.name, value: e.modelValue, onInput: t[0] || (t[0] = (...t) => e.inputText && e.inputText(...t)), autocomplete: e.autocomplete, onFocus: t[1] || (t[1] = t => e.focussed = !0), onBlur: t[2] || (t[2] = t => e.focussed = !1) }, null, 40, m), Object(l["h"])("span", { class: "icon material-icons-round", onClick: t[3] || (t[3] = t => e.$emit("update:modelValue", "")), textContent: Object(l["q"])(e.error ? "" : "") }, null, 8, y)], 2) } var k = Object(l["j"])({ name: "Text Field", props: { type: { type: String, default: "text" }, name: { type: String, default: "" }, label: { type: String, default: "" }, error: { type: Boolean, default: !1 }, modelValue: { type: String, default: "" }, autocomplete: { type: String, default: "off" } }, emits: ["update:modelValue"], data: () => ({ focussed: !1 }), methods: { inputText(e) { const t = e.target; t && this.$emit("update:modelValue", t.value) } } }); n("3aaa"); const w = g()(k, [["render", v], ["__scopeId", "data-v-2bbb4e88"]]); var x = w; const C = ["textContent"], V = { class: "body" }, D = ["textContent"], S = { class: "actions" }; function A(e, t, n, o, i, a) { return Object(l["l"])(), Object(l["e"])(l["b"], { to: "body" }, [Object(l["i"])(l["c"], { name: "dialog-transition" }, { default: Object(l["s"])(() => [e.show ? (Object(l["l"])(), Object(l["g"])("div", { key: 0, class: "dialog", onClick: t[0] || (t[0] = Object(l["v"])((...t) => e.onMask && e.onMask(...t), ["self"])) }, [Object(l["h"])("div", { class: Object(l["k"])(["dialog-content", { maskClick: e.clicked }]) }, [Object(l["o"])(e.$slots, "icon"), Object(l["t"])(Object(l["h"])("span", { class: "headline-small", textContent: Object(l["q"])(e.title) }, null, 8, C), [[l["r"], e.title]]), Object(l["h"])("div", V, [Object(l["t"])(Object(l["h"])("span", { class: "body-medium", textContent: Object(l["q"])(e.description) }, null, 8, D), [[l["r"], e.description]]), Object(l["o"])(e.$slots, "body")]), Object(l["h"])("div", S, [Object(l["o"])(e.$slots, "actions")])], 2)])) : Object(l["f"])("", !0)]), _: 3 })]) } var B = Object(l["j"])({ name: "Dialog", props: { title: { type: String }, description: { type: String }, permanent: { type: Boolean, default: !1 }, modelValue: { type: Boolean, default: !1 } }, emits: ["update:modelValue"], data: () => ({ clicked: !1 }), computed: { show: { get() { return this.modelValue }, set(e) { this.$emit("update:modelValue", e) } } }, methods: { onMask() { this.permanent ? (this.clicked = !0, setTimeout(() => this.clicked = !1, 300)) : this.show = !1 }, listener(e) { this.show && "Escape" === e.code && (e.preventDefault(), this.show = !1) } }, beforeMount() { document.addEventListener("keyup", this.listener) }, beforeUnmount() { document.removeEventListener("keyup", this.listener) } }); n("8bc2"); const M = g()(B, [["render", A]]); var T = M, _ = Object(l["j"])({ name: "App", components: { Btn: O, Field: x, Dialog: T }, data: () => ({ login: "", password: "", loading: !1, needAuth: !0, showDialog: !1, badMessage: "Для инициализации приложения необходимо авторизоваться.", goodMessage: "Вы успешно авторизовались, скрипт работает!", loadingUpdate: !1, loadingDialog: !1 }), computed: { message() { return this.needAuth ? this.badMessage : this.goodMessage } }, watch: { loading(e) { const t = document.getElementById("loading-page"); t && (t.dataset.hide = (!e).toString()) } }, methods: { checkAuth() { this.loading = !0, google.script.run.withSuccessHandler(e => { this.loading = !1, this.needAuth = e }).withFailureHandler(e => { console.error(e), this.loading = !1, this.checkAuth() }).needAuth() }, sendData() { this.login = this.login.trim(), this.password = this.password.trim(), this.login && this.password && (this.loadingDialog = !0, google.script.run.withSuccessHandler(() => { this.checkAuth(), this.login = "", this.password = "", this.showDialog = !1, this.loadingDialog = !1 }).init(this.login, this.password)) }, updateTrigger() { this.loadingUpdate = !0, google.script.run.withSuccessHandler(() => { this.loadingUpdate = !1 }).init() } }, beforeMount() { this.checkAuth() } }); n("028e"); const $ = g()(_, [["render", c]]); var q = $; n("cf56"), n("7049"); Object(l["d"])(q).mount("#app") }, ce34: function (e, t, n) { }, cf56: function (e, t, n) { }, f1e2: function (e, t, n) { } });
</script>