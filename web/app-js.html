<script>
  (function (e) { function t(t) { for (var l, s, a = t[0], c = t[1], d = t[2], u = 0, p = []; u < a.length; u++)s = a[u], Object.prototype.hasOwnProperty.call(o, s) && o[s] && p.push(o[s][0]), o[s] = 0; for (l in c) Object.prototype.hasOwnProperty.call(c, l) && (e[l] = c[l]); r && r(t); while (p.length) p.shift()(); return i.push.apply(i, d || []), n() } function n() { for (var e, t = 0; t < i.length; t++) { for (var n = i[t], l = !0, a = 1; a < n.length; a++) { var c = n[a]; 0 !== o[c] && (l = !1) } l && (i.splice(t--, 1), e = s(s.s = n[0])) } return e } var l = {}, o = { app: 0 }, i = []; function s(t) { if (l[t]) return l[t].exports; var n = l[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, s), n.l = !0, n.exports } s.m = e, s.c = l, s.d = function (e, t, n) { s.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, s.r = function (e) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, s.t = function (e, t) { if (1 & t && (e = s(e)), 8 & t) return e; if (4 & t && "object" === typeof e && e && e.__esModule) return e; var n = Object.create(null); if (s.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var l in e) s.d(n, l, function (t) { return e[t] }.bind(null, l)); return n }, s.n = function (e) { var t = e && e.__esModule ? function () { return e["default"] } : function () { return e }; return s.d(t, "a", t), t }, s.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, s.p = "/"; var a = window["webpackJsonp"] = window["webpackJsonp"] || [], c = a.push.bind(a); a.push = t, a = a.slice(); for (var d = 0; d < a.length; d++)t(a[d]); var r = c; i.push([0, "chunk-vendors"]), n() })({ 0: function (e, t, n) { e.exports = n("cd49") }, "3aaa": function (e, t, n) { "use strict"; n("7f5f") }, 7049: function (e, t, n) { }, "7f5f": function (e, t, n) { }, "81da": function (e, t, n) { }, "8bc2": function (e, t, n) { "use strict"; n("ce34") }, 9452: function (e, t, n) { "use strict"; n("f1e2") }, cd49: function (e, t, n) { "use strict"; n.r(t); var l = n("7a23"); const o = { class: "banner" }, i = ["textContent"], s = ["textContent"]; function a(e, t, n, a, c, d) { const r = Object(l["p"])("Btn"), u = Object(l["p"])("Field"), p = Object(l["p"])("Dialog"); return Object(l["l"])(), Object(l["g"])(l["a"], null, [Object(l["h"])("div", o, [Object(l["h"])("span", { class: Object(l["k"])(["icon material-icons-round", { bad: e.needAuth }]), textContent: Object(l["q"])(e.needAuth ? "" : "") }, null, 10, i), Object(l["h"])("span", { class: "message", textContent: Object(l["q"])(e.message) }, null, 8, s)]), Object(l["i"])(r, { filled: "", onClick: t[0] || (t[0] = t => e.showDialog = !0), label: e.needAuth ? "Авторизоваться" : "Обновить данные" }, null, 8, ["label"]), Object(l["i"])(p, { title: e.needAuth ? "Авторизоваться" : "Обновить данные", modelValue: e.showDialog, "onUpdate:modelValue": t[4] || (t[4] = t => e.showDialog = t), permanent: "", description: "Введенные вами данные будут сохранены в вашем аккаунте Google. Только у вас есть к ним доступ." }, { body: Object(l["s"])(() => [Object(l["i"])(u, { label: "Логин", modelValue: e.login, "onUpdate:modelValue": t[1] || (t[1] = t => e.login = t) }, null, 8, ["modelValue"]), Object(l["i"])(u, { type: "password", label: "Пароль", modelValue: e.password, "onUpdate:modelValue": t[2] || (t[2] = t => e.password = t) }, null, 8, ["modelValue"])]), actions: Object(l["s"])(() => [Object(l["i"])(r, { label: "Отмена", onClick: t[3] || (t[3] = t => e.showDialog = !1), disabled: e.loadingDialog }, null, 8, ["disabled"]), Object(l["i"])(r, { filled: "", onClick: e.sendData, label: e.needAuth ? "Авторизоваться" : "Обновить данные", loading: e.loadingDialog }, null, 8, ["onClick", "label", "loading"])]), _: 1 }, 8, ["title", "modelValue"])], 64) } const c = ["textContent"], d = { class: "state-layer" }, r = { class: "loader" }; function u(e, t, n, o, i, s) { return Object(l["l"])(), Object(l["g"])("div", { onClick: t[0] || (t[0] = (...t) => e.onclick && e.onclick(...t)), onKeypress: t[1] || (t[1] = Object(l["u"])((...t) => e.onclick && e.onclick(...t), ["enter"])), class: Object(l["k"])(["btn", e.classes]), tabindex: "0" }, [Object(l["o"])(e.$slots, "default"), Object(l["h"])("span", { class: "label-large", textContent: Object(l["q"])(e.label) }, null, 8, c), Object(l["h"])("div", d, [Object(l["t"])(Object(l["h"])("div", r, null, 512), [[l["r"], e.loading]])])], 34) } var p = Object(l["j"])({ name: "Button", props: { replace: { type: Boolean, default: !1 }, label: { type: String, required: !0 }, loading: { type: Boolean, default: !1 }, disabled: { type: Boolean, default: !1 }, text: { type: Boolean, default: !0 }, filled: { type: Boolean, default: !1 }, outlined: { type: Boolean, default: !1 } }, emits: ["click"], computed: { classes() { return { icon: !!this.$slots.default, loading: this.loading, disabled: this.disabled, text: this.isText, filled: this.isFilled, outlined: this.isOutlined } }, isText() { return !this.isFilled && !this.isOutlined && this.text }, isFilled() { return !this.isOutlined && this.filled }, isOutlined() { return this.outlined } }, methods: { onclick(e) { this.disabled || this.loading || this.$emit("click", e) } } }), b = (n("9452"), n("6b0d")), h = n.n(b); const f = h()(p, [["render", u]]); var g = f; const O = ["textContent"], j = ["type", "name", "value", "autocomplete"], m = ["textContent"]; function y(e, t, n, o, i, s) { return Object(l["l"])(), Object(l["g"])("label", { class: Object(l["k"])(["field", { empty: !e.modelValue, error: e.error, focussed: e.focussed }]) }, [e.label ? (Object(l["l"])(), Object(l["g"])("span", { key: 0, class: "label", textContent: Object(l["q"])(e.label) }, null, 8, O)) : Object(l["f"])("", !0), Object(l["h"])("input", { type: e.type, name: e.name, value: e.modelValue, onInput: t[0] || (t[0] = (...t) => e.inputText && e.inputText(...t)), autocomplete: e.autocomplete, onFocus: t[1] || (t[1] = t => e.focussed = !0), onBlur: t[2] || (t[2] = t => e.focussed = !1) }, null, 40, j), Object(l["h"])("span", { class: "icon material-icons-round", onClick: t[3] || (t[3] = t => e.$emit("update:modelValue", "")), textContent: Object(l["q"])(e.error ? "" : "") }, null, 8, m)], 2) } var v = Object(l["j"])({ name: "Text Field", props: { type: { type: String, default: "text" }, name: { type: String, default: "" }, label: { type: String, default: "" }, error: { type: Boolean, default: !1 }, modelValue: { type: String, default: "" }, autocomplete: { type: String, default: "off" } }, emits: ["update:modelValue"], data: () => ({ focussed: !1 }), methods: { inputText(e) { const t = e.target; t && this.$emit("update:modelValue", t.value) } } }); n("3aaa"); const k = h()(v, [["render", y], ["__scopeId", "data-v-2bbb4e88"]]); var w = k; const x = ["textContent"], C = { class: "body" }, V = ["textContent"], D = { class: "actions" }; function S(e, t, n, o, i, s) { return Object(l["l"])(), Object(l["e"])(l["b"], { to: "body" }, [Object(l["i"])(l["c"], { name: "dialog-transition" }, { default: Object(l["s"])(() => [e.show ? (Object(l["l"])(), Object(l["g"])("div", { key: 0, class: "dialog", onClick: t[0] || (t[0] = Object(l["v"])((...t) => e.onMask && e.onMask(...t), ["self"])) }, [Object(l["h"])("div", { class: Object(l["k"])(["dialog-content", { maskClick: e.clicked }]) }, [Object(l["o"])(e.$slots, "icon"), Object(l["t"])(Object(l["h"])("span", { class: "headline-small", textContent: Object(l["q"])(e.title) }, null, 8, x), [[l["r"], e.title]]), Object(l["h"])("div", C, [Object(l["t"])(Object(l["h"])("span", { class: "body-medium", textContent: Object(l["q"])(e.description) }, null, 8, V), [[l["r"], e.description]]), Object(l["o"])(e.$slots, "body")]), Object(l["h"])("div", D, [Object(l["o"])(e.$slots, "actions")])], 2)])) : Object(l["f"])("", !0)]), _: 3 })]) } var A = Object(l["j"])({ name: "Dialog", props: { title: { type: String }, description: { type: String }, permanent: { type: Boolean, default: !1 }, modelValue: { type: Boolean, default: !1 } }, emits: ["update:modelValue"], data: () => ({ clicked: !1 }), computed: { show: { get() { return this.modelValue }, set(e) { this.$emit("update:modelValue", e) } } }, methods: { onMask() { this.permanent ? (this.clicked = !0, setTimeout(() => this.clicked = !1, 300)) : this.show = !1 }, listener(e) { this.show && "Escape" === e.code && (e.preventDefault(), this.show = !1) } }, beforeMount() { document.addEventListener("keyup", this.listener) }, beforeUnmount() { document.removeEventListener("keyup", this.listener) } }); n("8bc2"); const B = h()(A, [["render", S]]); var M = B, _ = Object(l["j"])({ name: "App", components: { Btn: g, Field: w, Dialog: M }, data: () => ({ login: "", password: "", loading: !1, needAuth: !0, showDialog: !1, badMessage: "Для инициализации приложения необходимо авторизоваться.", goodMessage: "Вы успешно авторизовались, скрипт работает!", loadingDialog: !1 }), computed: { message() { return this.needAuth ? this.badMessage : this.goodMessage } }, watch: { loading(e) { const t = document.getElementById("loading-page"); t && (t.dataset.hide = (!e).toString()) } }, methods: { checkAuth() { this.loading = !0, google.script.run.withSuccessHandler(e => { this.loading = !1, this.needAuth = e }).withFailureHandler(e => { console.error(e), this.loading = !1, this.checkAuth() }).needAuth() }, sendData() { this.login = this.login.trim(), this.password = this.password.trim(), this.login && this.password && (this.loadingDialog = !0, google.script.run.withSuccessHandler(() => { this.checkAuth(), this.login = "", this.password = "", this.showDialog = !1, this.loadingDialog = !1 }).init(this.login, this.password)) } }, beforeMount() { this.checkAuth() } }); n("f311"); const T = h()(_, [["render", a]]); var $ = T; n("cf56"), n("7049"); Object(l["d"])($).mount("#app") }, ce34: function (e, t, n) { }, cf56: function (e, t, n) { }, f1e2: function (e, t, n) { }, f311: function (e, t, n) { "use strict"; n("81da") } });
</script>